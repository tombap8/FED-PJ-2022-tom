<!DOCTYPE html>
<html lang="ko">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>JS2-2. 바(var), 렛(let), 콘스트(const)</title>
        <script>
            /******************************************** 
            변수는 바.렛.콘스트!!!

            [ var ] : 함수영역변수

            1. 함수영역에서 사용할때만 지역변수
            2. 함수영역 바깥에서 사용하면 전역변수
            3. 전역변수와 같은 이름의 변수를 함수내에서
                값을 할당하면 덮어쓰기가 된다!
            4. 함수영역에서 전역변수와 같은 이름의 변수를
                선언하면 전역변수와 다른 지역변수로 관리된다!
                (이렇게 하면 코딩이 매우 혼란스러워 질 수 있다!)
                또는 변수이름이 같은 이름이지만 지역변수로
                사용할 수 있다는 장점이 되기도한다!        _____________________________________

            (지역변수 : Local Variable)
            함수영역내에 선언한 변수
            - 특징: 다른 함수나 바깥(전역)영역에서
            지역변수를 참조할 수 없다!(사용할 수 없다!)

            (전역변수 : Global Variable)
            함수밖영역에서 선언한 변수
            - 특징: 어떤 함수에서도 전역변수를 참조할 수 있다!
            ->>> 즉, 전역변수의 값도 변경할 수 있다!!!
            -> 전역변수는 공유하고자 하는 데이터를 저장할때 사용함!
            ____________________________________________


        ********************************************/

            /////////////////////////////////////////////
            /////////////// var 테스트 //////////////////
            /////////////////////////////////////////////

            // JS에서 중괄호{}란? -> 코드를 묶어주는 영역이다!

            // 1. 함수 중괄호에서 var ///////////////
            function callMe() {
                // 함수내에서 변수를 선언하면 지역변수!
                var usa = "미국";

                console.log("3.함수안 지역 usa:", usa);

                // 함수내에서 전역변수 korea값 변경하기
                korea = "코리아";

                console.log("4.함수안 전역 korea:", korea);

                // 함수내에서 전역uk찍기
                console.log("5.함수안 전역 uk:", uk);
                // -> 아래쪽에 같은 이름의 지역 uk를 만드는 순간
                // 이변수는 지역변수로 취급된다!
                // ->>> 전역변수uk와는 영영 이별을 하게됨!!!ㅠ.ㅠ
                // 결과: undefined -> 지역uk변수가 할당전에 출력됨!

                // 전역변수에 선언된 uk변수와 같은 이름의 지역변수만들기
                var uk = "유케이";
                console.log("6.함수안 지역 uk:", uk);

                // 선언한적이 없는 변수를 바로 사용해보자!
                rabbit = "토끼";
                console.log("7.함수안 선언없는 rabbit:", rabbit);
            } ////////// callMe 함수 ///////////////
            ////////////////////////////////////////

            // 함수 바깥에서 변수를 선언하면 전역변수!
            var korea = "한국";
            var uk = "영국";

            console.log("1.함수밖 전역 korea:", korea);
            console.log("2.함수밖 전역 uk:", uk);

            // callMe함수 호출하기
            callMe();

            // 함수에서 전역변수값을 변경하였음!
            console.log("8.함수밖 전역 korea:", korea);

            // 지역변수를 전역에서 참조불가!!! 에러남!!!
            // console.log("함수밖 지역 usa:",usa);
            // 에러메시지: Uncaught ReferenceError: usa is not defined...

            // 함수안에서 선언없이 할당한 변수 rabbit 바깥에서 찍기
            console.log("9.함수밖 선언없는 rabbit:", rabbit);
            // -> 선언없이 지역에서 할당한 변수는 전역에 등록된다!
            // 변수관리가 어려워지고 나중에 소스관리에 리스크로 작용할 수 있다!
            // 선언없이 변수를 사용하지 말라! -> w3c, JS업데이트 팀 권고사항

            ////////////////////////////////////////////////////

            //// 2. if문에서 중괄호 var /////////////////
            if (true) {
                var who = "누구?";
                console.log("if문안 who:", who);
            } ///////// if문 ////////////

            console.log("if문밖 who:", who);
            // if문의 중괄호 안에서 변수를 선언하면
            // 즉 중괄호가 지역역할을 못함!

            /// 3. for문 중괄호 var //////////////
            for (var i = 3; i > 0; i--) {
                console.log("for문안 i:", i);
            } //////// for문 /////////

            console.log("for문밖 i:", i);
            // for문의 중괄호도 지역변수 역할을 못함!


        </script>
    </head>
    <body></body>
</html>
