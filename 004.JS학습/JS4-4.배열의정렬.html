<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JS4-4. 배열의 정렬</title>
    <script>
        /************************************************ 
            [ JS 배열의 정렬 ]
            -> 용어의 정의: 정렬이란?
            : 배열의 값을 기준으로 순서를 다시 정하는것!
            배열의 정렬은 sort() 메서드 사용!
            sort() 메서드를 사용하여 배열의값을 오른차순,내림차순으로
            정렬할 수 있음!

            [ sort() 메서드의 특징 ]
            1. 기본정렬 :  오름차순(1,2,3,.../a,b,c,...)
            2. 원리 : 배열값을 문자열로 캐스팅(형변환)한후
                    변환된 문자열을 비교하여 순서를 결정함
            (참고: undefined 값일 경우 배열 맨뒤에 배치함)

            [ sort() 메서드 비교함수 ]
            -> sort() 메서드 내부에 2개의 전달값을 가지는 함수를 쓰면
            sort메서드 자체에서 값을 비교하여 배열값의 순서를 바꾼다!

            [-> 기준정렬 : 오름차순]
            배열변수.sort() -> 기본정렬

            (비교함수사용)
            배열변수.sort(function(x,y){
                if(x>y) return 1;
                if(x<y) return -1;
                return 0;
            })
            
            -> 단순화하기(삼항연산자사용!)

            배열변수.sort(function(x,y){
                return x == y ? 0 : x > y ? 1 : -1;
            })

            -> 리턴값의 의미
            1) if(x>y) return 1; -> x가 y뒤에 옴 (리턴값 양수)
            2) if(x<y) return -1; -> x가 y앞에 옴 (리턴값 음수)
            3) return 0; -> x,y 정렬을 유지 (리턴값 0)




        ************************************************/

        // 숫자값 배열
        const org_num = [4, 5, 8, 10, 2, 1, 9, 3, 7, 6];
        // 문자값 배열
        const org_num2 = ["파", "타", "하", "가", "바", "사", "다", "라", "차"];

        window.addEventListener("DOMContentLoaded",()=>{

            // 숫자로만 된 배열의 화면 뿌리기
            // map으로 코드 대체함
            const newArray = (obj) => { // obj - 배열객체받음!
                // map으로 코드구성하기(새로운배열)
                let temp = obj.map(x=>`
                <img src="./images/num/num_0${x}.png" alt="Number">
                `);

                // 배열출력하기
                document.querySelector(".showNum")
                .innerHTML=temp.join('');

            }; ////////////// newArray /////////////


            // 배열전달/함수호출
            newArray(org_num);

            // 첫번째 선택박스 정렬변경 이벤트함수 만들기
            document.querySelector(".sel").onchange = e=>{
                //  선택값확인
                let opt = e.target.value;
                console.log(opt);

                if(opt==1){
                    org_num.sort(function(x,y){
                        return x - y;
                        // 빼서 음수나오면 오름차순!
                    })
                }
                else if(opt==2){
                    org_num.sort(function(x,y){
                        return y - x;
                        // 거꾸로 빼면 내림차순
                    })
                    
                }
                
                // 화면에 반영하기(sort후엔 배열자체가 바뀜!)
                newArray(org_num);

            }; ///////////// change ///////////////


        }); ////////////// load ////////////////////
    </script>
    <style>
        .showNum img{
            height: 100px;
        }
    </style>
</head>
<body>

    <h1 class="tit">배열의 정렬</h1>

        <h2>숫자로만된 배열의 정렬</h2>
        <select name="sel" id="sel" class="sel">
            <option value="0">정렬선택</option>
            <option value="1">오름차순</option>
            <option value="2">내림차순</option>
        </select>
        <div class="showNum"></div>

        <select name="sel2" id="sel2" class="sel2">
            <option value="0">정렬선택</option>
            <option value="1">오름차순</option>
            <option value="2">내림차순</option>
        </select>
        <div class="showNum2"></div>

        <select name="cta" id="cta" class="cta">
            <option value="idx">idx</option>
            <option value="tit">tit</option>
            <option value="cont">cont</option>
        </select>
        <select name="sel3" id="sel3" class="sel3">
            <option value="0">정렬선택</option>
            <option value="1">오름차순</option>
            <option value="2">내림차순</option>
        </select>
        <div class="showList1">
            <table></table>
        </div>
    
</body>
</html>