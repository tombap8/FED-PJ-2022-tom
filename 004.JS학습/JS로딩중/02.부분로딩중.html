<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        .loading{
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%,-50%);
            width: 15%;

        }

        .timg{
            width: 100%;
        }
        .my{
            position: absolute;
            width: 50%;
            height: 20vh;
            border: 1px solid #000;
            overflow: auto;
        }
        
    </style>
    <script>
        const isrc = [
            "https://img.freepik.com/free-vector/night-ocean-landscape-full-moon-stars-shine_107791-7397.jpg?w=2000",
            "https://marketplace.canva.com/EAE-xnqWvJk/1/0/1600w/canva-retro-smoke-and-round-light-desktop-wallpapers-JLofAI27pCg.jpg",
            "https://images3.alphacoders.com/131/1311991.jpeg",
            "https://www.grafico.com.au/assets/uploads/MelbourneMap.jpg",
        ];
        window.addEventListener("DOMContentLoaded",()=>{
            document.body.onload=()=>{
                console.log("로딩완료!");

            };
            
            
            console.log("DOM로드");



                document.querySelector(".my").innerHTML+=`<img class="loading" src="images/loading_img.gif" alt="test">`;


            async function setit(){

            let doit = new Promise(
                    function(success){
                        
                        for(let i=0; i<200;i++){
                            isrc.forEach(v=>{
                                document.querySelector(".my").innerHTML+=`<img class="timg" src="${v}" alt="test">`;
                            })

                        }
                        success("코코")
                      
                    }); ///////// doit Promise /////////

                    // await 사용하여 실행하기
                    const thenDoit = (txt) => {
                        console.log("이거뭐야???",txt);
                        document.querySelector(".loading").remove();
                    }; ////////// thenDoit 함수 ///////


                    // 실행함수 호출!
                    thenDoit(await doit);
        } ////////////// async setit 함수 /////////////  

        
        // async setit 함수 최초호출
        setTimeout(()=>setit(),500)
        


        })

        console.log("JS시작");
    </script>
</head>
<body>
    <div class="my"></div>
</body>
</html>